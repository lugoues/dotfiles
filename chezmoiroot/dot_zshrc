zle -N zle-keymap-select

export PATH="~/.local/bin:/opt/homebrew/bin:$PATH"
export MISE_CONFIG_DIR="~/.local/etc/mise"

[[ $COLORTERM = *(24bit|truecolor)* ]] || zmodload zsh/nearcolor

eval "$(~/.local/bin/mise activate zsh)"

eval "$(sheldon source)"

export LS_COLORS="$(vivid generate nord)"

# Added by LM Studio CLI (lms)
export PATH="$PATH:/Users/pbrunner/.lmstudio/bin"
# End of LM Studio CLI section

# Attempt to start atuin daemon
if command -v start-stop-daemon &>/dev/null; then
  start-stop-daemon --status --name atuin \
    || start-stop-daemon \
      --start --oknodo \
      --name atuin \
      --pidfile ~/.local/atuin.pid \
      --startas $(mise which atuin) \
      --background \
      -- daemon
fi
